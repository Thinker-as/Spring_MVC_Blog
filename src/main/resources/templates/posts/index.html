<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout :: site-head">
    <title th:text="Posts">View Post</title>
</head>

<header th:replace="layout :: site-header"/>

<body>

<table class="allPosts">
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Content</th>
        <th>Date</th>
        <th>Author</th>
        <th>Action</th>
    </tr>
    <tr th:each="p : ${allPosts}">
        <td th:text="${p.id}">ID</td>
        <td th:text="${p.title}">Post name</td>
        <td th:text="${p.body}">Post Content</td>
        <td th:text="${p.author.fullName!= null ? p.author.fullName : p.author.username}">Author name</td>
        <td th:text="${#dates.format(p.date, 'dd-MMM-yyyy')}">22-May-2016</td>
        <td>
            <form th:method="post" th:action="@{/posts/edit}">
                <button type="submit" name="id" th:value="${p.id}">EDIT</button>
            </form>
            <form th:method="post" th:action="@{/posts/delete}">
                <button type="submit" name="id" th:value="${p.id}">DELETE</button>
            </form>
        </td>
    </tr>
</table>

<footer th:replace="layout :: site-footer"/>
</body>
</html>